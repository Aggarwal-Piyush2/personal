<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Day VI | The Sanctuary</title>

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;1,400&family=Montserrat:wght@200;400;600&display=swap" rel="stylesheet">

  <style>
    :root { --bg: #020202; --accent: #d1d1d1; }

    body, html {
      margin: 0;
      padding: 0;
      background: var(--bg);
      color: var(--accent);
      font-family: 'Montserrat', sans-serif;
      overflow-x: hidden;
      transition: background 1s ease;
      scroll-behavior: smooth;
    }

    /* Background silhouette (replace file name) */
    body::before{
      content:"";
      position: fixed;
      inset: 0;
      z-index: 0;
      background:
        radial-gradient(circle at center, rgba(255,90,40,0.12) 0%, rgba(2,2,2,0.98) 70%),
        url("your-silhouette.png");
      background-repeat: no-repeat;
      background-position: center 18%;
      background-size: min(720px, 92vw);
      opacity: 0.10;
      filter: blur(0.2px) contrast(1.05);
      pointer-events: none;
    }

    /* Gentle vignette */
    body::after{
      content:"";
      position: fixed;
      inset: 0;
      z-index: 0;
      background: radial-gradient(circle at center, rgba(0,0,0,0) 40%, rgba(0,0,0,0.75) 100%);
      pointer-events: none;
    }

    /* Floating hearts created by JS */
    .emoji{
    position: fixed;
    top: -50px;
    font-size: 24px;
    z-index: 10;
    user-select: none;
    pointer-events: none;
    animation: fall linear forwards;
    }

    @keyframes fall{
    to{
        transform: translateY(110vh) rotate(360deg);
    } 
    }

    /* Confetti created by JS */
    .confetti{
    position: fixed;
    top: -20px;
    z-index: 11;
    user-select: none;
    pointer-events: none;
    border-radius: 2px;
    animation: confettiFall linear forwards;
    opacity: 0.95;
    }

    @keyframes confettiFall{
    to{
        transform: translateY(110vh) rotate(900deg);
    }
    }


    /* SYDNEY TIME LOCK */
    #lock-screen {
      position: fixed;
      top:0; left:0;
      width:100%; height:100%;
      background: #000;
      z-index: 3000;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: white;
    }

    #particles-js {
      position: fixed;
      width: 100%;
      height: 100%;
      z-index: 1;
      pointer-events: none;
    }

    .hero {
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      position: relative;
      z-index: 2;
    }

    .shadow-couple {
      width: 260px; height: 420px;
      background: linear-gradient(to bottom, #1a1a1a, #000);
      border-radius: 130px 130px 40px 40px;
      filter: blur(45px);
      opacity: 0.2;
      transform: scale(0.85);
      transition: 0.8s cubic-bezier(0.2, 0, 0.2, 1);
    }

    .section {
      padding: 100px 30px;
      text-align: center;
      position: relative;
      z-index: 2;
      opacity: 0;
      transform: translateY(30px);
      transition: all 1s ease-out;
    }
    .section.visible { opacity: 1; transform: translateY(0); }

    .meter-ui {
      background: rgba(255,255,255,0.03);
      padding: 40px;
      border-radius: 2px;
      border: 1px solid rgba(255,255,255,0.05);
      backdrop-filter: blur(10px);
      max-width: 350px;
      margin: 0 auto;
    }

    input[type=range] { width: 100%; -webkit-appearance: none; background: transparent; }
    input[type=range]::-webkit-slider-runnable-track { background: rgba(255,255,255,0.1); height: 1px; }
    input[type=range]::-webkit-slider-thumb {
      -webkit-appearance: none;
      height: 24px; width: 24px;
      border: 1px solid #fff;
      border-radius: 50%;
      background: #000;
      margin-top: -12px;
      box-shadow: 0 0 15px rgba(255,255,255,0.2);
    }

    h2 {
      font-family: 'Playfair Display', serif;
      font-weight: 400;
      font-size: 2rem;
      margin-bottom: 40px;
    }

    .list-item {
      font-size: 0.85rem;
      letter-spacing: 2px;
      text-transform: uppercase;
      margin: 25px 0;
      opacity: 0.4;
      transition: 0.6s;
    }
    .list-item.active { opacity: 1; transform: scale(1.1); color: #fff; }

    .final-note {
      font-family: 'Playfair Display', serif;
      font-style: italic;
      font-size: 1.4rem;
      line-height: 1.8;
      color: #fff;
      max-width: 400px;
      margin: 0 auto;
    }

    #entry-btn {
      display: none;
      background: none;
      border: 1px solid white;
      color: white;
      padding: 15px 35px;
      margin-top: 20px;
      font-family: 'Montserrat';
      letter-spacing: 4px;
      cursor: pointer;
    }

    /* Main content fade-in */
    #main-content { display:none; opacity: 0; transition: opacity 1.8s ease; }
    #main-content.show { opacity: 1; }

    /* Two photos section */
    .photo-duo{
      max-width: 760px;
      margin: 0 auto;
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }
    @media (min-width: 760px){
      .photo-duo{ grid-template-columns: 1fr 1fr; }
    }
    .duo-img{
      width: 100%;
      aspect-ratio: 4/5;
      object-fit: cover;
      border: 1px solid rgba(255,255,255,0.06);
      background: rgba(255,255,255,0.02);
      filter: saturate(0.95) contrast(1.02) brightness(0.92);
      transition: 500ms ease;
    }
    .section.visible .duo-img{
      filter: saturate(1.05) contrast(1.04) brightness(1.02);
    }

    /* Press-and-hold hug section */
    .hold-wrap{
      max-width: 430px;
      margin: 0 auto;
      padding: 34px 26px;
      border: 1px solid rgba(255,255,255,0.06);
      background: rgba(255,255,255,0.02);
      backdrop-filter: blur(10px);
    }
    .hold-title{
      font-family:'Playfair Display', serif;
      font-size: 1.6rem;
      margin-bottom: 12px;
      color:#fff;
    }
    .hold-sub{
      font-size: 0.85rem;
      letter-spacing: 2px;
      opacity: 0.45;
      margin-bottom: 22px;
      text-transform: uppercase;
    }
    .hold-btn{
      width: 220px;
      height: 220px;
      margin: 0 auto;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(0,0,0,0.3);
      display:flex;
      align-items:center;
      justify-content:center;
      position: relative;
      user-select:none;
      touch-action: none;
      cursor: pointer;
      transition: 300ms ease;
    }
    .hold-btn:active{ transform: scale(0.985); }
    .hold-btn .inner{
      width: 168px;
      height: 168px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.10);
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap: 10px;
      position: relative;
      z-index: 2;
    }
    .hold-btn .inner .big{
      font-family:'Playfair Display', serif;
      font-size: 1.1rem;
      color: #fff;
    }
    .hold-btn .inner .small{
      font-size: 0.7rem;
      letter-spacing: 3px;
      opacity: 0.55;
      text-transform: uppercase;
    }
    .progress-ring{
      position:absolute;
      inset: -10px;
      border-radius: 999px;
      background: conic-gradient(rgba(255,90,40,0.85) var(--p, 0%), rgba(255,255,255,0.06) 0%);
      filter: blur(0.1px);
      z-index: 1;
    }
    .hold-hint{
      margin-top: 18px;
      font-size: 0.85rem;
      opacity: 0.55;
      font-style: italic;
      line-height: 1.7;
    }

    body.hug-glow{
      transition: background 500ms ease;
      background: radial-gradient(circle at center, rgba(255,90,40,0.20) 0%, #020202 70%);
    }
  </style>
</head>

<body>
  <audio id="bg-music" loop><source src="Meharma.mp3" type="audio/mpeg"></audio>

  <div id="lock-screen">
    <h1 style="font-family:'Playfair Display'; font-weight: 200;">DAY VI</h1>
    <p id="timer" style="letter-spacing: 2px; font-size: 0.8rem; opacity: 0.6;">CALCULATING TIME...</p>
    <button id="entry-btn" onclick="enterSanctuary()">ENTER THE SANCTUARY</button>
  </div>

  <div id="particles-js"></div>

  <div id="main-content">
    <div class="hero">
      <div class="shadow-couple" id="mainShadow"></div>
      <div style="position:absolute; bottom:15%; text-align:center; z-index: 5;">
        <p style="font-family:'Playfair Display'; font-style:italic; font-size:1.2rem; color:#fff;">My favorite place is your arms.</p>
        <div style="width:1px; height:50px; background:white; margin:20px auto; opacity:0.3;"></div>
      </div>
    </div>

    <div class="section">
      <h2>The Pressure</h2>
      <div class="meter-ui">
        <input type="range" min="1" max="100" value="10" id="hugSlider">
        <p id="meterLabel" style="margin-top:30px; font-size:0.7rem; letter-spacing:4px; text-transform:uppercase;">Gentle Presence</p>
        <p id="meterDesc" style="font-size:0.8rem; opacity:0.4; font-style:italic; margin-top:10px;">A reminder that I'm here.</p>
      </div>
    </div>

    <div class="section" id="listSection">
      <h2>You deserve this because...</h2>
      <div class="list-item">You carry the world gracefully</div>
      <div class="list-item">Your smile is my favorite view</div>
      <div class="list-item">You've been so strong lately</div>
      <div class="list-item">Being you is more than enough</div>
    </div>

    <!-- Two Photos -->
    <div class="section">
      <h2>Two little moments</h2>
      <div class="photo-duo">
        <img class="duo-img" src="hug1.jpeg" alt="Moment 1" loading="lazy">
        <img class="duo-img" src="hug2.jpeg" alt="Moment 2" loading="lazy">
      </div>`
    </div>

    <div class="section">
      <h2 style="font-size:1.2rem; opacity:0.5;">The Hugs I Owe You</h2>
      <p style="line-height:3.5; font-weight:200; font-size: 0.9rem; letter-spacing: 2px;">
        THE LONG-TIME-NO-SEE HUG<br>
        THE SAFE-HAVEN HUG<br>
        THE QUIET-MORNING HUG
      </p>
    </div>

    <!-- Press & Hold Hug -->
    <div class="section" id="holdSection">
      <div class="hold-wrap">
        <div class="hold-title">Press and hold to hug me</div>
        <div class="hold-sub">Hold for 3 seconds</div>

        <div class="hold-btn" id="holdBtn" aria-label="press and hold">
          <div class="progress-ring" id="progressRing"></div>
          <div class="inner">
            <div class="big" id="holdText">Hold me</div>
            <div class="small" id="holdSmall">I am here</div>
          </div>
        </div>

        <div class="hold-hint" id="holdHint">
          The longer you hold, the warmer it gets.
        </div>
      </div>
    </div>

    <div class="section" style="padding-bottom:200px;">
      <div class="final-note">
        üíå ‚ÄúIf I could right now, I‚Äôd pull you close and remind you: you never have to face anything alone.‚Äù
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

  <script>
    // 1. SYDNEY TIME LOCK (set your real unlock date)
    const UNLOCK_DATE = "2026-02-12T00:00:00";

    const timerTask = setInterval(() => {
      const now = new Date();
      const syd = new Date(now.toLocaleString("en-US", { timeZone: "Australia/Sydney" }));
      const diff = new Date(UNLOCK_DATE) - syd;

      if (diff <= 0) {
        document.getElementById('timer').style.display = 'none';
        document.getElementById('entry-btn').style.display = 'block';
        clearInterval(timerTask);
      } else {
        const h = Math.floor(diff / 3600000);
        const m = Math.floor((diff % 3600000) / 60000);
        const s = Math.floor((diff % 60000) / 1000);
        document.getElementById('timer').innerText = `Opening in: ${h}h ${m}m ${s}s`;
      }
    }, 1000);

    function enterSanctuary() {
      document.getElementById('lock-screen').style.display = 'none';

      const main = document.getElementById('main-content');
      main.style.display = 'block';
      setTimeout(() => main.classList.add('show'), 50);

      const music = document.getElementById('bg-music');
      music.volume = 0;
      music.play().catch(()=>{});
      let v = 0;
      const fade = setInterval(() => {
        v += 0.02;
        music.volume = Math.min(v, 1);
        if (v >= 1) clearInterval(fade);
      }, 100);

      initParticles();
    }

    // 2. SCROLL REVEAL
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');

          if (entry.target.id === 'listSection') {
            const items = entry.target.querySelectorAll('.list-item');
            items.forEach((it, i) => setTimeout(() => it.classList.add('active'), i * 400));
          }
        }
      });
    }, { threshold: 0.1 });

    document.querySelectorAll('.section').forEach(section => observer.observe(section));

    // 3. PARALLAX SHADOW
    window.addEventListener('scroll', () => {
      const s = window.scrollY;
      const shadow = document.getElementById('mainShadow');
      shadow.style.transform = `scale(${0.85 + s/2000}) translateY(${s/5}px)`;
      shadow.style.filter = `blur(${Math.max(45 - s/10, 10)}px)`;
      shadow.style.opacity = Math.min(0.2 + s/500, 0.7);
    });

    // Utility effects used by the hold section
    const emojis = ['‚ù§Ô∏è','üíñ','‚ú®','üåπ','üíå','üå∏'];
    function createEmoji() {
      const e = document.createElement('div');
      e.className = 'emoji';
      e.textContent = emojis[Math.floor(Math.random() * emojis.length)];
      e.style.left = Math.random() * 100 + 'vw';
      const duration = Math.random() * 3 + 4;
      e.style.animationDuration = duration + 's';
      e.style.opacity = (Math.random() * 0.55 + 0.35).toFixed(2);
      document.body.appendChild(e);
      setTimeout(() => e.remove(), duration * 1000);
    }
    setInterval(createEmoji, 420);

    function confettiBurst(count = 45) {
      for (let i = 0; i < count; i++) {
        const c = document.createElement('div');
        c.className = 'confetti';
        c.style.left = (Math.random() * 100) + 'vw';
        c.style.background = `hsl(${Math.floor(Math.random() * 60) + 330}, 85%, 72%)`;
        c.style.width = (Math.random() * 8 + 6) + 'px';
        c.style.height = (Math.random() * 12 + 6) + 'px';
        c.style.borderRadius = (Math.random() > 0.55) ? '999px' : '2px';
        const duration = Math.random() * 2.6 + 3;
        c.style.animationDuration = duration + 's';
        document.body.appendChild(c);
        setTimeout(()=>c.remove(), duration * 1000);
      }
    }

    function heartStorm() {
      for (let i = 0; i < 35; i++) setTimeout(createEmoji, i * 25);
    }

    // 4. HUG SLIDER
    const slider = document.getElementById('hugSlider');
    const label = document.getElementById('meterLabel');
    const desc = document.getElementById('meterDesc');

    slider.oninput = function() {
      const val = this.value;
      const r = Math.min(val * 0.8, 50);
      document.body.style.background = `radial-gradient(circle at center, rgb(${r}, ${r/6}, 0) 0%, #020202 100%)`;

      label.style.color = "#ffffff";

      if (val < 33) {
        label.innerText = "Gentle Presence";
        desc.innerText = "A reminder that I'm here.";
      } else if (val < 80) {
        label.innerText = "The Tight Hold";
        desc.innerText = "The kind where you can finally let go.";
      } else {
        label.innerText = "Safe Haven";
        desc.innerText = "I'm never letting you go. Ever.";
        label.style.color = "#ff4d00";
        if (window.navigator.vibrate) window.navigator.vibrate(10);
      }
    };

    // 5. PRESS AND HOLD HUG
    const holdBtn = document.getElementById('holdBtn');
    const progressRing = document.getElementById('progressRing');
    const holdText = document.getElementById('holdText');
    const holdSmall = document.getElementById('holdSmall');
    const holdHint = document.getElementById('holdHint');

    let holding = false;
    let holdStart = 0;
    let rafId = null;
    const HOLD_MS = 3000;

    function setProgress(pct){
      const clamped = Math.max(0, Math.min(100, pct));
      progressRing.style.setProperty('--p', clamped + '%');
    }

    function vibrate(ms){
      if (window.navigator.vibrate) window.navigator.vibrate(ms);
    }

    function finishHug(){
      holding = false;
      setProgress(100);
      document.body.classList.add('hug-glow');
      holdText.textContent = "That is my hug";
      holdSmall.textContent = "Stay a little";
      holdHint.textContent = "Close your eyes. I am right there with you.";

      confettiBurst(40);
      heartStorm();
      vibrate(20);

      setTimeout(()=>{
        document.body.classList.remove('hug-glow');
        setProgress(0);
        holdText.textContent = "Hold me";
        holdSmall.textContent = "I am here";
        holdHint.textContent = "The longer you hold, the warmer it gets.";
      }, 3500);
    }

    function tick(){
      if(!holding) return;
      const elapsed = performance.now() - holdStart;
      const pct = (elapsed / HOLD_MS) * 100;
      setProgress(pct);

      if (elapsed > 900) document.body.classList.add('hug-glow');

      if (elapsed > 1200 && elapsed < 1300) vibrate(8);
      if (elapsed > 2100 && elapsed < 2200) vibrate(10);

      if(elapsed >= HOLD_MS){
        cancelAnimationFrame(rafId);
        finishHug();
        return;
      }
      rafId = requestAnimationFrame(tick);
    }

    function startHold(e){
      e.preventDefault();
      holding = true;
      holdStart = performance.now();
      holdText.textContent = "Holding";
      holdSmall.textContent = "Do not let go";
      setProgress(0);
      rafId = requestAnimationFrame(tick);
    }

    function endHold(){
      if(!holding) return;
      holding = false;
      cancelAnimationFrame(rafId);
      document.body.classList.remove('hug-glow');
      setProgress(0);
      holdText.textContent = "Hold me";
      holdSmall.textContent = "I am here";
    }

    holdBtn.addEventListener('pointerdown', startHold);
    holdBtn.addEventListener('pointerup', endHold);
    holdBtn.addEventListener('pointercancel', endHold);
    holdBtn.addEventListener('pointerleave', endHold);

    // 6. PARTICLES CONFIG (heart particles)
    function initParticles() {
      particlesJS("particles-js", {
        "particles": {
          "number": { "value": 25 },
          "color": { "value": "#ff7a4d" },
          "shape": {
            "type": "char",
            "character": {
              "value": "‚ù§",
              "font": "Verdana",
              "style": "",
              "weight": "400"
            }
          },
          "opacity": { "value": 0.25, "random": true },
          "size": { "value": 12, "random": true },
          "line_linked": { "enable": false },
          "move": { "enable": true, "speed": 0.7, "direction": "top", "random": true, "straight": false, "out_mode": "out" }
        },
        "retina_detect": true
      });
    }
  </script>
</body>
</html>
