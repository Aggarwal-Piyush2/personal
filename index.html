<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Vault</title>

    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,400;1,700&family=Montserrat:wght@200;400&display=swap" rel="stylesheet">

    <style>
        :root { --gold: #c5a059; }

        body {
            margin: 0;
            background: radial-gradient(circle at center, #1a0505 0%, #050505 100%);
            color: white;
            font-family: 'Montserrat', sans-serif;
            min-height: 100vh;
            width: 100vw;
            overflow-x: hidden;

            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* --- EMOJI SHOWER --- */
        .emoji {
            position: fixed;
            top: -50px;
            font-size: 24px;
            z-index: 1;
            user-select: none;
            pointer-events: none;
            animation: fall linear forwards;
        }

        @keyframes fall {
            to { transform: translateY(110vh) rotate(360deg); }
        }

        .header {
            text-align: center;
            margin: 80px 0 30px 0;
            z-index: 10;
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            color: var(--gold);
            margin: 0;
            font-style: italic;
            text-shadow: 0 0 20px rgba(197,160,89,0.3);
        }

        .subtitle {
            letter-spacing: 6px;
            font-size: 0.7rem;
            opacity: 0.6;
            margin-top: 10px;
        }

        /* ===============================
           ‚ù§Ô∏è VALENTINE BUTTON (TOP)
           =============================== */
        .valentine-link {
            margin-bottom: 35px;
            padding: 14px 34px;
            border-radius: 40px;

            font-size: 0.85rem;
            letter-spacing: 3px;
            text-decoration: none;

            color: var(--gold);
            border: 1px solid var(--gold);
            background: rgba(0,0,0,0.7);

            box-shadow:
                0 0 12px rgba(197,160,89,0.5),
                0 0 30px rgba(197,160,89,0.3);

            transition: 0.35s ease;

            animation: pulse 2.2s infinite;
            z-index: 10;
        }

        .valentine-link:hover {
            transform: translateY(-4px) scale(1.07);
            background: rgba(197,160,89,0.15);
            box-shadow:
                0 0 25px rgba(197,160,89,0.9),
                0 0 60px rgba(197,160,89,0.6);
        }

        @keyframes pulse {
            0%   { box-shadow: 0 0 10px rgba(197,160,89,0.4); }
            50%  { box-shadow: 0 0 25px rgba(197,160,89,0.75); }
            100% { box-shadow: 0 0 10px rgba(197,160,89,0.4); }
        }

        /* --- GRID --- */
        #grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            padding: 20px;
            max-width: 800px;
            width: 90%;
            z-index: 10;
            margin-bottom: 100px;
        }

        @media (min-width: 600px) {
            #grid { grid-template-columns: repeat(4, 1fr); }
        }

        .day-card {
            aspect-ratio: 1/1;
            border: 1px solid rgba(197, 160, 89, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            color: white;
            transition: 0.4s ease;
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(8px);
            border-radius: 4px;
        }

        .day-card.unlocked:hover {
            border-color: var(--gold);
            background: rgba(197,160,89,0.1);
            transform: translateY(-5px);
        }

        .day-card.locked {
            opacity: 0.25;
            cursor: not-allowed;
        }

        .day-card span {
            font-family: 'Playfair Display';
            font-size: 1.8rem;
            color: var(--gold);
        }

        .day-card small {
            font-size: 0.55rem;
            margin-top: 8px;
            letter-spacing: 2px;
            opacity: 0.8;
        }

        /* --- MUSIC BUTTON --- */
        .music-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0,0,0,0.6);
            border: 1px solid var(--gold);
            color: var(--gold);
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.7rem;
        }
    </style>
</head>

<body>

<audio id="bg-music" loop preload="auto">
    <source src="khaab.mp3" type="audio/mpeg">
</audio>

<button id="musicControl" class="music-toggle" onclick="toggleMusic()">üîä MUSIC OFF</button>

<div class="header">
    <h1>The Vault</h1>
    <p class="subtitle">EIGHT DAYS ‚Ä¢ EIGHT SECRETS</p>
</div>

<!-- ‚ù§Ô∏è NEW BUTTON ON TOP -->
<a href="valentine.html" class="valentine-link">üíå OPEN THIS?</a>

<div id="grid"></div>

<script>
const TARGET_ISO = "2026-01-06T00:00:00+11:00";
const audio = document.getElementById('bg-music');
let musicStarted = false;

const emojis = ['‚ù§Ô∏è','üíñ','‚ú®','üåπ','üíå','üå∏'];

function createEmoji(){
    const e=document.createElement('div');
    e.className='emoji';
    e.innerText=emojis[Math.floor(Math.random()*emojis.length)];
    e.style.left=Math.random()*100+'vw';
    const d=Math.random()*3+4;
    e.style.animationDuration=d+'s';
    document.body.appendChild(e);
    setTimeout(()=>e.remove(),d*1000);
}
setInterval(createEmoji,400);

const challenges=[
    {title:"ROSE",link:"day1.html"},
    {title:"PROPOSE",link:"day2.html"},
    {title:"CHOCOLATE",link:"day3.html"},
    {title:"TEDDY",link:"day4.html"},
    {title:"PROMISE",link:"day5.html"},
    {title:"HUG",link:"day6.html"},
    {title:"KISS",link:"day7.html"},
    {title:"VALENTINE'S",link:"day8.html"}
];

function renderVault(){
    const grid=document.getElementById('grid');
    const now=new Date();
    const startDate=new Date(TARGET_ISO);

    challenges.forEach((day,index)=>{
        const unlockDate=new Date(startDate);
        unlockDate.setDate(startDate.getDate()+index);

        const card=document.createElement('a');
        const isUnlocked=now>=unlockDate;

        if(isUnlocked){
            card.className='day-card unlocked';
            card.href=day.link;
        }else{
            card.className='day-card locked';
            card.href="#";
            card.onclick=(e)=>{
                e.preventDefault();
                alert(`This secret unlocks on Feb ${6+index} at Midnight.`);
            };
        }

        card.innerHTML=`<span>${day.title}</span><small>DAY ${index+1}</small>`;
        grid.appendChild(card);
    });
}

window.addEventListener('click',()=>{
    if(!musicStarted){
        audio.currentTime=18;
        audio.play();
        musicStarted=true;
        document.getElementById('musicControl').innerText="üîä MUSIC ON";
    }
},{once:true});

function toggleMusic(){
    if(audio.paused){
        audio.play();
        musicControl.innerText="üîä MUSIC ON";
    }else{
        audio.pause();
        musicControl.innerText="üîá MUSIC OFF";
    }
}

renderVault();
</script>

</body>
</html>
